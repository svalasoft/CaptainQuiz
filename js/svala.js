(()=>{"use strict";class e{constructor(){this.encoder=new TextEncoder}writeString(e,t,i){const n=this.encoder.encode(t);return new Uint8Array(e.buffer,i,n.length).set(n),n.length}byteLength(e){return this.encoder.encode(e).length}iovViews(t,i,n){const r=[];let o=i;for(let i=0;i<n;i++){const i=t.getUint32(o+e.iovec_t.bufferOffset,!0),n=t.getUint32(o+e.iovec_t.lengthOffset,!0);r.push(new Uint8Array(t.buffer,i,n)),o+=e.iovec_t.size}return r}writeFilestat(e,t,i){e.setBigUint64(t,BigInt(0),!0),e.setBigUint64(t+8,BigInt(0),!0),e.setUint8(t+16,i),e.setUint32(t+24,0,!0),e.setBigUint64(t+32,BigInt(0),!0),e.setBigUint64(t+40,BigInt(0),!0),e.setBigUint64(t+48,BigInt(0),!0)}writeFdstat(e,t,i,n){e.setUint8(t,i),e.setUint16(t+2,n,!0),e.setBigUint64(t+8,BigInt(0),!0),e.setBigUint64(t+16,BigInt(0),!0)}}e.WASI_ESUCCESS=0,e.WASI_ERRNO_BADF=8,e.WASI_ENOSYS=52,e.WASI_CLOCK_REALTIME=0,e.WASI_CLOCK_MONOTONIC=1,e.WASI_FILETYPE_CHARACTER_DEVICE=2,e.IMPORT_FUNCTIONS=["args_get","args_sizes_get","clock_res_get","clock_time_get","environ_get","environ_sizes_get","fd_advise","fd_allocate","fd_close","fd_datasync","fd_fdstat_get","fd_fdstat_set_flags","fd_fdstat_set_rights","fd_filestat_get","fd_filestat_set_size","fd_filestat_set_times","fd_pread","fd_prestat_dir_name","fd_prestat_get","fd_pwrite","fd_read","fd_readdir","fd_renumber","fd_seek","fd_sync","fd_tell","fd_write","path_create_directory","path_filestat_get","path_filestat_set_times","path_link","path_open","path_readlink","path_remove_directory","path_rename","path_symlink","path_unlink_file","poll_oneoff","proc_exit","proc_raise","random_get","sched_yield","sock_accept","sock_recv","sock_send","sock_shutdown"],e.iovec_t={size:8,bufferOffset:0,lengthOffset:4};class t{constructor(e){this.code=e}get exitCode(){return this.code}}function i(t,i,n){const r=t.args||[];return{args_get:(t,o)=>{let a=t,l=o;const s=n();for(const e of r)s.setUint32(a,l,!0),a+=4,l+=i.writeString(s,`${e}\0`,l);return e.WASI_ESUCCESS},args_sizes_get:(t,o)=>{const a=n();a.setUint32(t,r.length,!0);const l=r.reduce(((e,t)=>e+i.byteLength(t)+1),0);return a.setUint32(o,l,!0),e.WASI_ESUCCESS}}}function n(t,i,n){return{clock_res_get:(t,i)=>{let r;switch(t){case e.WASI_CLOCK_MONOTONIC:r=5e3;break;case e.WASI_CLOCK_REALTIME:r=1e3;break;default:return e.WASI_ENOSYS}return n().setUint32(i,r,!0),e.WASI_ESUCCESS},clock_time_get:(t,i,r)=>{let o=0;switch(t){case e.WASI_CLOCK_MONOTONIC:o=performance.now();break;case e.WASI_CLOCK_REALTIME:o=Date.now();break;default:return e.WASI_ENOSYS}const a=n();if(BigInt){const e=e=>{const t=Math.trunc(e),i=BigInt(Math.round(1e6*(e-t)));return BigInt(t)*BigInt(1e6)+i},t=BigInt(e(o));a.setBigUint64(r,t,!0)}else{const e=1e6*Date.now();a.setUint32(r,65535&e,!0),a.setUint32(r+4,4294901760&e,!0)}return e.WASI_ESUCCESS}}}function r(t,i,n){return{environ_get:(r,o)=>{let a=r,l=o;const s=n();for(const e in t.env){const n=t.env[e];s.setUint32(a,l,!0),a+=4,l+=i.writeString(s,`${e}=${n}\0`,l)}return e.WASI_ESUCCESS},environ_sizes_get:(r,o)=>{const a=n();return a.setUint32(r,Object.keys(t.env||{}).length,!0),a.setUint32(o,Object.entries(t.env||{}).reduce(((e,[t,n])=>e+i.byteLength(t)+1+i.byteLength(n)+1),0),!0),e.WASI_ESUCCESS}}}class o{constructor(e,t){this.handler=e,this.outputBuffers=t,this.decoder=new TextDecoder("utf-8")}writev(e){const t=e.reduce(((e,t)=>e+t.byteLength),0);let i=0;const n=new Uint8Array(t);for(const t of e)n.set(t,i),i+=t.byteLength;if(this.outputBuffers)this.handler(n);else{const e=this.decoder.decode(n);this.handler(e)}return n.length}readv(e){return 0}close(){}}class a{constructor(e){this.consume=e,this.encoder=new TextEncoder,this.pending=null}writev(e){return 0}consumePending(e,t){if(e.byteLength<t)return this.pending=null,e;{const i=e.slice(0,t);return this.pending=e.slice(t),i}}readv(e){let t=0;for(const i of e){let e=i.byteLength;if(this.pending){const n=this.consumePending(this.pending,e);i.set(n,0),e-=n.byteLength,t+=n.byteLength}for(;e>0;){const n=this.consume();let r;if(r=n instanceof Uint8Array?n:this.encoder.encode(n),0==r.length)return t;r.length>e?(i.set(r.slice(0,e),i.byteLength-e),this.pending=r.slice(e),t+=e,e=0):(i.set(r,i.byteLength-e),t+=r.length,e-=r.length)}}return t}close(){}}function l(i,n,r){return{proc_exit:e=>{throw new t(e)},proc_raise:t=>e.WASI_ESUCCESS}}const s=e=>{crypto.getRandomValues(e)};function h(t={}){const i=t.randomFillSync||s;return(t,n,r)=>({random_get:(t,n)=>{const o=r(),a=new Uint8Array(o.buffer,t,n);return i(a),e.WASI_ESUCCESS}})}function c(t={}){return(s,c,d)=>{const g=[r,i,n,l,h(t)];return"fs"in t?g.push((t.fs,(e,t,i)=>({}))):g.push(function(t={}){return(i,n,r)=>{const l=t.outputBuffers||!1,s=[new a(t.stdin||(()=>"")),new o(t.stdout||console.log,l),new o(t.stderr||console.error,l)];return{fd_fdstat_get:(t,i)=>{if(!s[t])return e.WASI_ERRNO_BADF;const o=r();return n.writeFdstat(o,i,e.WASI_FILETYPE_CHARACTER_DEVICE,0),e.WASI_ESUCCESS},fd_filestat_get:(t,i)=>{if(!s[t])return e.WASI_ERRNO_BADF;const o=r();n.writeFilestat(o,i,e.WASI_FILETYPE_CHARACTER_DEVICE)},fd_prestat_get:(t,i)=>e.WASI_ERRNO_BADF,fd_prestat_dir_name:(t,i)=>e.WASI_ERRNO_BADF,fd_write:(t,i,o,a)=>{const l=s[t];if(!l)return e.WASI_ERRNO_BADF;const h=r(),c=n.iovViews(h,i,o),d=l.writev(c);return h.setUint32(a,d,!0),e.WASI_ESUCCESS},fd_read:(t,i,o,a)=>{const l=s[t];if(!l)return e.WASI_ERRNO_BADF;const h=r(),c=n.iovViews(h,i,o),d=l.readv(c);return h.setUint32(a,d,!0),e.WASI_ESUCCESS}}}}(t)),g.reduce(((e,t)=>Object.assign(Object.assign({},e),t(s,c,d))),{})}}class d{constructor(t){this.instance=null,this.isStarted=!1,this.wasiImport={};const i=new e;if(t&&t.features)for(const e of t.features){const n=e(t,i,this.view.bind(this));this.wasiImport=Object.assign(Object.assign({},this.wasiImport),n)}for(const t of e.IMPORT_FUNCTIONS)t in this.wasiImport||(this.wasiImport[t]=()=>e.WASI_ENOSYS)}view(){if(!this.instance)throw new Error("wasi.start() or wasi.initialize() has not been called");if(!this.instance.exports.memory)throw new Error("instance.exports.memory is undefined");if(!(this.instance.exports.memory instanceof WebAssembly.Memory))throw new Error("instance.exports.memory is not a WebAssembly.Memory");return new DataView(this.instance.exports.memory.buffer)}start(i){if(this.isStarted)throw new Error("wasi.start() or wasi.initialize() has already been called");if(this.isStarted=!0,this.instance=i,!this.instance.exports._start)throw new Error("instance.exports._start is undefined");if("function"!=typeof this.instance.exports._start)throw new Error("instance.exports._start is not a function");try{return this.instance.exports._start(),e.WASI_ESUCCESS}catch(e){if(e instanceof t)return e.code;throw e}}initialize(e){if(this.isStarted)throw new Error("wasi.start() or wasi.initialize() has already been called");if(this.isStarted=!0,this.instance=e,!this.instance.exports._initialize)throw new Error("instance.exports._initialize is undefined");if("function"!=typeof this.instance.exports._initialize)throw new Error("instance.exports._initialize is not a function");this.instance.exports._initialize()}}document.querySelectorAll("canvas[data-svala]").forEach((e=>{const t=e.dataset.svala;console.log("Loading:",t),async function(e,t){let i=null,n=[],r=[],o=[],a=[],l=[],s=[],h=[],g=[],f=[],u=[],p=null,w=0,m=4,_=4,b=null;var S=0,A=0,I=0,P="unknown",E="unknown";let v,x=null,y="data/";const U=e=>console.log(e);function N(e){const t=new Uint8Array(v.buffer,e),i=new TextDecoder("utf8");let n=0;for(;0!==t[n];)n++;return i.decode(t.subarray(0,n))}function C(e,t){const i=new Uint8Array(v.buffer,e,t);return new TextDecoder("utf8").decode(i)}const R=t=>{const i=e.getBoundingClientRect(),n=window.devicePixelRatio||1,r=e.width/i.width/n,o=e.height/i.height/n;let a,l;t.touches&&t.touches.length>0?(a=t.touches[0].clientX,l=t.touches[0].clientY):(a=t.clientX,l=t.clientY);const s=window.visualViewport?window.visualViewport.offsetLeft:0,h=window.visualViewport?window.visualViewport.offsetTop:0;return{x:(a-i.left-s)*r,y:(l-i.top-h)*o}},D=new d({args:[],env:{},features:[c()]}),T={Apple:{"Apple Watch":{"Apple Watch 1st (Series 0) Large":{width:156,height:195,scale:2,ppi:326,idiom:"watch"},"Apple Watch 1st (Series 0) Small":{width:156,height:170,scale:2,ppi:326,idiom:"watch"},"Apple Watch SE (1st) Large":{width:184,height:224,scale:2,ppi:326,idiom:"watch"},"Apple Watch SE (1st) Small":{width:162,height:197,scale:2,ppi:326,idiom:"watch"},"Apple Watch SE (2nd) Large":{width:184,height:224,scale:2,ppi:326,idiom:"watch"},"Apple Watch SE (2nd) Small":{width:162,height:197,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 1 Large":{width:156,height:195,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 1 Small":{width:156,height:170,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 2 Large":{width:156,height:195,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 2 Small":{width:156,height:170,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 3 Large":{width:156,height:195,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 3 Small":{width:156,height:170,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 4 Large":{width:184,height:224,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 4 Small":{width:162,height:197,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 5 Large":{width:184,height:224,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 5 Small":{width:162,height:197,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 6 Large":{width:184,height:224,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 6 Small":{width:162,height:197,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 7 Large":{width:198,height:242,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 7 Small":{width:176,height:215,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 8 Large":{width:198,height:242,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 8 Small":{width:176,height:215,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 9 Large":{width:198,height:242,scale:2,ppi:326,idiom:"watch"},"Apple Watch Series 9 Small":{width:176,height:215,scale:2,ppi:326,idiom:"watch"},"Apple Watch Ultra 2":{width:205,height:251,scale:2,ppi:338,idiom:"watch"},"Apple Watch Ultra":{width:205,height:251,scale:2,ppi:338,idiom:"watch"}},iPad:{"iPad 1st gen":{width:768,height:1024,scale:1,ppi:132,idiom:"tablet"},"iPad 2":{width:768,height:1024,scale:1,ppi:132,idiom:"tablet"},"iPad 3rd gen":{width:768,height:1024,scale:2,ppi:264,idiom:"tablet"},"iPad 4th gen":{width:768,height:1024,scale:2,ppi:264,idiom:"tablet"},"iPad 5th gen":{width:768,height:1024,scale:2,ppi:264,idiom:"tablet"},"iPad 6th gen":{width:768,height:1024,scale:2,ppi:264,idiom:"tablet"},"iPad 7th gen":{width:810,height:1080,scale:2,ppi:264,idiom:"tablet"},"iPad 8th gen":{width:810,height:1080,scale:2,ppi:264,idiom:"tablet"},"iPad 9th gen":{width:810,height:1080,scale:2,ppi:264,idiom:"tablet"},"iPad 10th gen":{width:820,height:1180,scale:2,ppi:264,idiom:"tablet"},"iPad Air":{width:768,height:1024,scale:2,ppi:264,idiom:"tablet"},"iPad Air 2":{width:768,height:1024,scale:2,ppi:264,idiom:"tablet"},"iPad Air (3rd gen)":{width:834,height:1112,scale:2,ppi:264,idiom:"tablet"},"iPad Air (4th gen)":{width:820,height:1180,scale:2,ppi:264,idiom:"tablet"},"iPad Air (5th gen)":{width:820,height:1180,scale:2,ppi:264,idiom:"tablet"},'iPad Air (6th gen 11")':{width:820,height:1180,scale:2,ppi:264,idiom:"tablet"},'iPad Air (6th gen 13")':{width:1024,height:1366,scale:2,ppi:264,idiom:"tablet"},"iPad mini":{width:768,height:1024,scale:1,ppi:163,idiom:"tablet"},"iPad mini 2":{width:768,height:1024,scale:2,ppi:326,idiom:"tablet"},"iPad mini 3":{width:768,height:1024,scale:2,ppi:326,idiom:"tablet"},"iPad mini 4":{width:768,height:1024,scale:2,ppi:326,idiom:"tablet"},"iPad mini (5th gen)":{width:768,height:1024,scale:2,ppi:326,idiom:"tablet"},"iPad mini (6th gen)":{width:744,height:1133,scale:2,ppi:326,idiom:"tablet"},"iPad mini (7th gen)":{width:744,height:1133,scale:2,ppi:326,idiom:"tablet"},'iPad Pro (1st gen 12.9")':{width:1024,height:1366,scale:2,ppi:264,idiom:"tablet"},"iPad Pro (1st gen 9.7”)":{width:768,height:1024,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (2nd gen 10.5")':{width:834,height:1112,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (2nd gen 12.9")':{width:1024,height:1366,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (3rd gen 11")':{width:834,height:1194,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (3rd gen 12.9")':{width:1024,height:1366,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (4th gen 11")':{width:834,height:1194,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (4th gen 12.9")':{width:1024,height:1366,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (5th gen 11")':{width:834,height:1194,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (5th gen 12.9")':{width:1024,height:1366,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (6th gen 11")':{width:834,height:1194,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (6th gen 12.9")':{width:1024,height:1366,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (7th gen 11")':{width:834,height:1210,scale:2,ppi:264,idiom:"tablet"},'iPad Pro (7th gen 13")':{width:1032,height:1376,scale:2,ppi:264,idiom:"tablet"}},iPhone:{"iPhone 11 Pro":{width:375,height:812,scale:3,ppi:458,idiom:"phone"},"iPhone 11":{width:414,height:896,scale:2,ppi:326,idiom:"phone"},"iPhone 12 mini":{width:375,height:812,scale:3,ppi:476,idiom:"phone"},"iPhone 11 Pro Max":{width:414,height:896,scale:3,ppi:458,idiom:"phone"},"iPhone 12 Pro Max":{width:428,height:926,scale:3,ppi:458,idiom:"phone"},"iPhone 12 Pro":{width:390,height:844,scale:3,ppi:460,idiom:"phone"},"iPhone 12":{width:390,height:844,scale:3,ppi:460,idiom:"phone"},"iPhone 13 mini":{width:375,height:812,scale:3,ppi:476,idiom:"phone"},"iPhone 13 Pro Max":{width:428,height:926,scale:3,ppi:458,idiom:"phone"},"iPhone 13 Pro":{width:390,height:844,scale:3,ppi:460,idiom:"phone"},"iPhone 13":{width:390,height:844,scale:3,ppi:460,idiom:"phone"},"iPhone 14 Plus":{width:428,height:926,scale:3,ppi:458,idiom:"phone"},"iPhone 14 Pro Max":{width:430,height:932,scale:3,ppi:460,idiom:"phone"},"iPhone 14 Pro":{width:393,height:852,scale:3,ppi:460,idiom:"phone"},"iPhone 14":{width:390,height:844,scale:3,ppi:460,idiom:"phone"},"iPhone 15 Plus":{width:430,height:932,scale:3,ppi:460,idiom:"phone"},"iPhone 15 Pro Max":{width:430,height:932,scale:3,ppi:460,idiom:"phone"},"iPhone 15 Pro":{width:393,height:852,scale:3,ppi:460,idiom:"phone"},"iPhone 15":{width:393,height:852,scale:3,ppi:460,idiom:"phone"},"iPhone 16 Plus":{width:430,height:932,scale:3,ppi:460,idiom:"phone"},"iPhone 16 Pro Max":{width:440,height:956,scale:3,ppi:460,idiom:"phone"},"iPhone 16 Pro":{width:402,height:874,scale:3,ppi:460,idiom:"phone"},"iPhone 16":{width:393,height:852,scale:3,ppi:460,idiom:"phone"},"iPhone 1st gen":{width:320,height:480,scale:1,ppi:163,idiom:"phone"},"iPhone 3G":{width:320,height:480,scale:1,ppi:163,idiom:"phone"},"iPhone 3GS":{width:320,height:480,scale:1,ppi:163,idiom:"phone"},"iPhone 4":{width:320,height:480,scale:2,ppi:326,idiom:"phone"},"iPhone 4S":{width:320,height:480,scale:2,ppi:326,idiom:"phone"},"iPhone 5":{width:320,height:568,scale:2,ppi:326,idiom:"phone"},"iPhone 5C":{width:320,height:568,scale:2,ppi:326,idiom:"phone"},"iPhone 5S":{width:320,height:568,scale:2,ppi:326,idiom:"phone"},"iPhone 6 Plus":{width:414,height:736,scale:3,ppi:401,idiom:"phone"},"iPhone 6":{width:375,height:667,scale:2,ppi:326,idiom:"phone"},"iPhone 6s Plus":{width:414,height:736,scale:3,ppi:401,idiom:"phone"},"iPhone 6s":{width:375,height:667,scale:2,ppi:326,idiom:"phone"},"iPhone 7 Plus":{width:414,height:736,scale:3,ppi:401,idiom:"phone"},"iPhone 7":{width:375,height:667,scale:2,ppi:326,idiom:"phone"},"iPhone 8 Plus":{width:414,height:736,scale:3,ppi:401,idiom:"phone"},"iPhone 8":{width:375,height:667,scale:2,ppi:326,idiom:"phone"},"iPhone SE 1st gen":{width:320,height:568,scale:2,ppi:326,idiom:"phone"},"iPhone SE 2nd gen":{width:375,height:667,scale:2,ppi:326,idiom:"phone"},"iPhone SE 3rd gen":{width:375,height:667,scale:2,ppi:326,idiom:"phone"},"iPhone X":{width:375,height:812,scale:3,ppi:458,idiom:"phone"},"iPhone XR":{width:414,height:896,scale:2,ppi:326,idiom:"phone"},"iPhone XS Max":{width:414,height:896,scale:3,ppi:458,idiom:"phone"},"iPhone XS":{width:375,height:812,scale:3,ppi:458,idiom:"phone"}},iPod:{"iPod touch 1st gen":{width:320,height:480,scale:1,ppi:163,idiom:"phone"},"iPod touch 2nd gen":{width:320,height:480,scale:1,ppi:163,idiom:"phone"},"iPod touch 3rd gen":{width:320,height:480,scale:1,ppi:163,idiom:"phone"},"iPod touch 4th gen":{width:320,height:480,scale:2,ppi:326,idiom:"phone"},"iPod touch 5th gen":{width:320,height:568,scale:2,ppi:326,idiom:"phone"},"iPod touch 6th gen":{width:320,height:568,scale:2,ppi:326,idiom:"phone"},"iPod touch 7th gen":{width:320,height:568,scale:2,ppi:326,idiom:"phone"}}},Android:{Amazon:{"Fire TV Stick 4K":{width:960,height:540,scale:4,ppi:320,idiom:"tv"},"Fire TV Stick":{width:480,height:270,scale:4,ppi:320,idiom:"tv"},"Fire TV Cube":{width:960,height:540,scale:4,ppi:320,idiom:"tv"},"Fire TV HD":{width:320,height:180,scale:4,ppi:320,idiom:"tv"},"Fire TV Stick Lite":{width:480,height:270,scale:4,ppi:320,idiom:"tv"}},Google:{"Pixel 6 Pro":{width:480,height:1040,scale:3,ppi:512,idiom:"phone"},"Pixel 6":{width:360,height:800,scale:3,ppi:411,idiom:"phone"},"Pixel 5":{width:360,height:780,scale:3,ppi:432,idiom:"phone"}},Samsung:{"Galaxy S22 Ultra":{width:480,height:1030,scale:3,ppi:515,idiom:"phone"},"Galaxy S22":{width:360,height:780,scale:3,ppi:425,idiom:"phone"},"Galaxy S22+":{width:360,height:800,scale:3,ppi:393,idiom:"phone"},"Galaxy Note 20 Ultra":{width:480,height:1030,scale:3,ppi:496,idiom:"phone"},"Galaxy A52":{width:360,height:800,scale:3,ppi:411,idiom:"phone"}},OnePlus:{"9 Pro":{width:480,height:1072,scale:3,ppi:525,idiom:"phone"}},Xiaomi:{"Mi 11 Ultra":{width:480,height:1067,scale:3,ppi:515,idiom:"phone"}},Motorola:{"Edge Plus":{width:360,height:780,scale:3,ppi:386,idiom:"phone"}}}};function L(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}function F(t){let i="portrait"===t?320:568,n="portrait"===t?568:320,r="portrait"===t?768:1024,o="portrait"===t?1024:768;const a=e.clientWidth,l=e.clientHeight;return Math.abs(a-i)+Math.abs(l-n)<=Math.abs(a-r)+Math.abs(l-o)?{width:i,height:n,scale:2,deviceName:"iPhone 5",deviceIdiom:"phone"}:{width:r,height:o,scale:2,deviceName:"iPad",deviceIdiom:"tablet"}}function B(e){const t=[];for(const i in e){const n=e[i];n.width&&n.height&&n.scale&&n.ppi?t.push({name:i,...n}):"object"==typeof n&&t.push(...B(n))}return t}function M(e,t=null,i=null,n=null){let r=[];if(t){let e=!1;for(const i in T)if(i.toLowerCase().includes(t.toLowerCase())){r=B(T[i]),e=!0;break}e||(r=B(T).filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))))}else{const e=function(){const e=navigator.userAgent;return/iPad/.test(e)?{category:"Apple",subcategory:"iPad"}:/iPhone|iPod/.test(e)?{category:"Apple",subcategory:"iPhone"}:/Android/.test(e)?{category:"Android"}:null}();r=e?e.subcategory&&T[e.category]&&T[e.category][e.subcategory]?B(T[e.category][e.subcategory]):B(T[e.category]):B(T)}i&&(r=r.filter((e=>e.idiom&&e.idiom.toLowerCase()===i.toLowerCase())));const o=n||L(),a=window.innerWidth,l=window.innerHeight,s=window.devicePixelRatio||1;let h=null,c=1/0;return r.forEach((t=>{const i="landscape"===o?t.height:t.width,n="landscape"===o?t.width:t.height;let r=Math.abs(i-a)/a+Math.abs(n-l)/l+Math.abs(t.scale-s);if(e){const i=function(e){const t=e.width*e.scale,i=e.height*e.scale;return Math.sqrt(t**2+i**2)/e.ppi}(t);r+=Math.abs(i-e)/e}r<c&&(c=r,h=t)})),h}function W(t){let i,n,r;const o=e.getAttribute("data-device"),a=e.getAttribute("data-device-idiom");let l=L();if(e.hasAttribute("data-legacy-mode")&&(x?l=x.orientation:x={preset:F(l),orientation:l}),P="unknown",E="unknown",e.hasAttribute("data-legacy-mode")){const e=x.preset;i=e.width,n=e.height,r=window.devicePixelRatio||1,E=e.deviceName,P=e.deviceIdiom}else if(o){const t=e.getAttribute("data-device-screen-diagonal"),s=t?parseFloat(t):null;if("auto-fit"===o){const e=M(s,null,a,l);e&&(console.log("Auto-fit selected device:",e.name),"landscape"===l?(i=e.height,n=e.width):(i=e.width,n=e.height),r=e.scale,E=e.name,P=preset.deviceIdiom)}else if(B(T).some((e=>e.name===o))){const e=B(T).find((e=>e.name===o));"landscape"===l?(i=e.height,n=e.width):(i=e.width,n=e.height),r=e.scale,E=e.name,P=preset.deviceIdiom}else{const e=M(s,o,a);e&&(console.log("Partial match selected device:",e.name),"landscape"===l?(i=e.height,n=e.width):(i=e.width,n=e.height),r=e.scale,E=e.name,P=preset.deviceIdiom)}}if(!i||!n){const t=e.getAttribute("data-width"),o=e.getAttribute("data-height");if(t&&o)i=parseInt(t,10),n=parseInt(o,10);else{i=e.clientWidth||window.innerWidth,n=e.clientHeight||window.innerHeight;const r=e.getAttribute("data-aspect-ratio");if(r){const e=function(e){const t=e.split(":");if(2===t.length){const e=parseFloat(t[0]),i=parseFloat(t[1]);if(e>0&&i>0)return e/i}return null}(r);e&&(t&&!o?n=Math.round(i/e):!t&&o?i=Math.round(n*e):t||o||(i=window.innerWidth,n=Math.round(i/e)))}}r=window.devicePixelRatio||1}const s=e.getAttribute("data-min-width"),h=e.getAttribute("data-min-height"),c=e.getAttribute("data-max-width"),d=e.getAttribute("data-max-height");s&&(i=Math.max(i,parseInt(s,10))),c&&(i=Math.min(i,parseInt(c,10))),h&&(n=Math.max(n,parseInt(h,10))),d&&(n=Math.min(n,parseInt(d,10)));const g=i*r,f=n*r;if(e.width=g,e.height=f,e.hasAttribute("data-legacy-mode")){const t=Math.min(window.innerWidth/i,window.innerHeight/n),r=i*t,o=n*t;e.style.width=r+"px",e.style.height=o+"px",e.style.position="absolute",e.style.left=(window.innerWidth-r)/2+"px",e.style.top=(window.innerHeight-o)/2+"px"}else e.style.width=i+"px",e.style.height=n+"px";I=r,S=g,A=f,t&&G.exports.UXApplication_changed()}const O={wasi_snapshot_preview1:D.wasiImport,_SVALA_:{webgl_init:function(){return!!e&&(W(!1),i=e.getContext("webgl2"),i||(i=e.getContext("webgl"),b=i.getExtension("OES_vertex_array_object")),p=i.getSupportedExtensions(),!!i)},webgl_clear:function(){i.clearColor(.1,.1,.9,1),i.clear(i.COLOR_BUFFER_BIT)},webgl_width:function(){return S},webgl_height:function(){return A},webgl_scale:function(){return I},webgl_model:function(e,t){let i=(new TextEncoder).encode(E);i.length>=t&&(i=i.subarray(0,t-1));const n=new Uint8Array(v.buffer,e,t);n.set(i),n[i.length]=0},webgl_idiom:function(e,t){let i=(new TextEncoder).encode(P);i.length>=t&&(i=i.subarray(0,t-1));const n=new Uint8Array(v.buffer,e,t);n.set(i),n[i.length]=0},setTitle:function(e){const t=N(e);document.title=t},playSound:function(e){const t=N(e);new Audio(t).play().then((()=>console.log("Playback started successfully."))).catch((e=>console.error("Error playing audio:",e)))},useDarkMode:function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},webgl_getParameterInt:function(e){if(33309===e)return p?p.length:0;const t=i.getParameter(e);return null!=t&&"number"==typeof t&&Number.isInteger(t)?t:0},fileLoadRaw:function(e){try{const l=N(e);var t=new XMLHttpRequest;if(t.open("GET",y+l,!1),t.overrideMimeType("text/plain; charset=x-user-defined"),t.send(null),t.status<200||t.status>=300)return t.status,null;for(var i=t.responseText,n=new Uint8Array(i.length),r=0;r<i.length;r++)n[r]=255&i.charCodeAt(r);var o=G.exports.DataHandleCreate(n.length);if(!o)return null;var a=G.exports.DataHandleGetPointer(o);return a?(new Uint8Array(v.buffer).set(n,a),o):null}catch(e){return console.error("Error loading file:",e),null}},fileLength:function(e){const t=N(e),i=new XMLHttpRequest;i.open("HEAD",y+t,!1);try{i.send(null)}catch(e){return-1}if(i.status>=200&&i.status<300){const e=i.getResponseHeader("Content-Length");return e?parseInt(e,10):-1}return i.status,-1},fileExists:function(e){const t=N(e),i=new XMLHttpRequest;i.open("HEAD",y+t,!1);try{i.send(null)}catch(e){return!1}return i.status>=200&&i.status<300?!!i.getResponseHeader("Content-Length"):(i.status,!1)},webgl_getParameterStr:function(e,t,n){let r="";7939===e?r=p?p.join(" "):"":(r=i.getParameter(e),null!=r&&"string"==typeof r||(r=""));let o=(new TextEncoder).encode(r);o.length>=n&&(o=o.subarray(0,n-1));const a=new Uint8Array(v.buffer,t,n);return a.set(o),a[o.length]=0,t},webgl_getParameterIStr:function(e,t,i,n){let r="";7939===e&&(r=p&&t>=0&&t<p.length?p[t]:"");let o=(new TextEncoder).encode(r);o.length>=n&&(o=o.subarray(0,n-1));const a=new Uint8Array(v.buffer,i,n);return a.set(o),a[o.length]=0,i},glActiveTexture:function(e){i.activeTexture(e)},glAttachShader:function(e,t){if(t>0&&t<=s.length&&null!=s[t-1]&&e>0&&e<=l.length&&null!=l[e-1]){const n=s[t-1],r=l[e-1];i.attachShader(r,n)}},glBindAttribLocation:function(e,t,n){if(name=N(n),e>0&&e<=l.length&&null!=l[e-1]){const n=l[e-1];i.bindAttribLocation(n,t,name)}},glBindBuffer:function(e,t){if(t>0&&t<=n.length&&null!=n[t-1]){const r=n[t-1];i.bindBuffer(e,r)}},glBindFramebuffer:function(e,t){if(0==t)i.bindFramebuffer(e,null);else if(t>0&&t<=r.length&&null!=r[t-1]){const n=r[t-1];i.bindFramebuffer(e,n)}},glBindRenderbuffer:function(e,t){if(0==t)i.bindRenderbuffer(e,null);else if(t>0&&t<=o.length&&null!=o[t-1]){const n=o[t-1];i.bindRenderbuffer(e,n)}},glBindSampler:function(e,t){if(t>0&&t<=a.length&&null!=a[t-1]){const n=a[t-1];i.bindSampler(e,n)}},glBindTexture:function(e,t){if(0==t)i.bindTexture(e,null);else if(t>0&&t<=u.length&&null!=u[t-1]){const n=u[t-1];i.bindTexture(e,n)}},glBindVertexArray:function(e){var t=null;if(0==e);else{if(!(e>0&&e<=g.length&&null!=g[e-1]))return;t=g[e-1]}i.bindVertexArray(t)},glBindVertexArrayOES:function(e){var t=null;if(0==e);else{if(!(e>0&&e<=f.length&&null!=f[e-1]))return;t=f[e-1]}b.bindVertexArrayOES(t)},glBlendColor:function(){U("NYI: glBlendColor")},glBlendEquation:function(e){i.blendEquation(e)},glBlendFunc:function(e,t){i.blendFunc(e,t)},glBlitFramebuffer:function(){U("NYI: glBlitFramebuffer")},glBufferData:function(e,t,n,r){var o=null;switch(e){case i.ARRAY_BUFFER:case i.ELEMENT_ARRAY_BUFFER:case i.COPY_READ_BUFFER:case i.COPY_WRITE_BUFFER:case i.TRANSFORM_FEEDBACK_BUFFER:case i.UNIFORM_BUFFER:case i.PIXEL_PACK_BUFFER:case i.PIXEL_UNPACK_BUFFER:o=new Uint16Array(v.buffer,n,t/2)}i.bufferData(e,o,r)},glBufferSubData:function(){U("NYI: glBufferSubData")},glCheckFramebufferStatus:function(e){return i.checkFramebufferStatus(e)},glClear:function(e){i.clear(e)},glClearColor:function(e,t,n,r){i.clearColor(e,t,n,r)},glClearStencil:function(e){i.clearStencil(e)},glColorMask:function(e,t,n,r){i.colorMask(e,t,n,r)},glCompileShader:function(e){if(e>0&&e<=s.length&&null!=s[e-1]){const t=s[e-1];i.compileShader(t)}},glCompressedTexImage2D:function(){U("NYI: glCompressedTexImage2D")},glCompressedTexSubImage2D:function(){U("NYI: glCompressedTexSubImage2D")},glCopyTexSubImage2D:function(e,t,n,r,o,a,l,s){i.copyTexSubImage2D(e,t,n,r,o,a,l,s)},glCreateProgram:function(){var e=-1;const t=i.createProgram();for(let i=0;i<n.length;i++)if(null==l[i]){l[i]=t,e=i+1;break}return-1==e&&(l.push(t),e=l.length),e},glCreateShader:function(e){var t=-1;const n=i.createShader(e);for(let e=0;e<s.length;e++)if(null==s[e]){s[e]=n,t=e+1;break}return-1==t&&(s.push(n),t=s.length),t},glCullFace:function(){U("NYI: glCullFace")},glDeleteBuffers:function(e,t){let r=new DataView(v.buffer);for(let o=0;o<e;o++){let e=r.getInt32(t+4*o,!0);if(e>0&&e<=n.length&&null!=n[e-1]){const t=n[e-1];i.deleteBuffer(t),n[e-1]=null}}},glDeleteFramebuffers:function(e,t){let n=new DataView(v.buffer);for(let o=0;o<e;o++){let e=n.getInt32(t+4*o,!0);if(e>0&&e<=r.length&&null!=r[e-1]){const t=r[e-1];i.deleteFramebuffer(t),r[e-1]=null}}},glDeleteProgram:function(e){if(e>0&&e<=l.length&&null!=l[e-1]){const t=l[e-1];i.deleteProgram(t),l[e-1]=null}},glDeleteRenderbuffers:function(e,t){let n=new DataView(v.buffer);for(let r=0;r<e;r++){let e=n.getInt32(t+4*r,!0);if(e>0&&e<=o.length&&null!=o[e-1]){const t=o[e-1];i.deleteRenderbuffer(t),o[e-1]=null}}},glDeleteSamplers:function(){U("NYI: glDeleteSamplers")},glDeleteShader:function(e){if(e>0&&e<=s.length&&null!=s[e-1]){const t=s[e-1];i.deleteShader(t),s[e-1]=null}},glDeleteTextures:function(e,t){let n=new DataView(v.buffer);for(let r=0;r<e;r++){let e=n.getInt32(t+4*r,!0);if(e>0&&e<=u.length&&null!=u[e-1]){const t=u[e-1];i.deleteTexture(t),u[e-1]=null}}},glDeleteVertexArrays:function(){U("NYI: glDeleteVertexArraysOES")},glDeleteVertexArraysOES:function(){U("NYI: glDeleteVertexArraysOES")},glDepthMask:function(e){i.depthMask(e)},glDisable:function(e){i.disable(e)},glDisableVertexAttribArray:function(e){i.disableVertexAttribArray(e)},glDrawArrays:function(e,t,n){i.drawArrays(e,t,n)},glDrawArraysInstanced:function(e,t,n,r){i.glDrawArraysInstanced(e,t,n,r)},glDrawBuffers:function(){U("NYI: glDrawBuffers")},glDrawElements:function(e,t,n,r){i.drawElements(e,t,n,r)},glDrawElementsInstanced:function(e,t,n,r,o){i.drawElementsInstanced(e,t,n,r,o)},glDrawRangeElements:function(e,t,n,r,o,a){i.drawRangeElements(e,t,n,r,o,a)},glEnable:function(e){i.enable(e)},glEnableVertexAttribArray:function(e){i.enableVertexAttribArray(e)},glFinish:function(){i.finish()},glFlush:function(){i.flush()},glFramebufferRenderbuffer:function(e,t,n,r){if(0==r)o[r-1],i.framebufferRenderbuffer(e,t,n,null);else if(r>0&&r<=o.length&&null!=o[r-1]){const a=o[r-1];i.framebufferRenderbuffer(e,t,n,a)}},glFramebufferTexture2D:function(e,t,n,r,o){if(r>0&&r<=u.length&&null!=u[r-1]){const a=u[r-1];i.framebufferTexture2D(e,t,n,a,o)}},glFrontFace:function(e){i.frontFace(e)},glGenBuffers:function(e,t){let r=new DataView(v.buffer);for(let a=0;a<e;a++){var o=-1;const e=i.createBuffer();for(let t=0;t<n.length;t++)if(null==n[t]){n[t]=e,o=t+1;break}-1==o&&(n.push(e),o=n.length),r.setInt32(t+4*a,o,!0)}},glGenerateMipmap:function(e){i.generateMipmap(e)},glGenFramebuffers:function(e,t){let n=new DataView(v.buffer);for(let a=0;a<e;a++){var o=-1;const e=i.createFramebuffer();for(let t=0;t<r.length;t++)if(null==r[t]){r[t]=e,o=t+1;break}-1==o&&(r.push(e),o=r.length),n.setInt32(t+4*a,o,!0)}},glGenRenderbuffers:function(e,t){let n=new DataView(v.buffer);for(let a=0;a<e;a++){var r=-1;const e=i.createRenderbuffer();for(let t=0;t<o.length;t++)if(null==o[t]){o[t]=e,r=t+1;break}-1==r&&(o.push(e),r=o.length),n.setInt32(t+4*a,r,!0)}},glGenSamplers:function(e,t){let n=new DataView(v.buffer);for(let o=0;o<e;o++){var r=-1;const e=i.createSampler();for(let t=0;t<a.length;t++)if(null==a[t]){a[t]=e,r=t+1;break}-1==r&&(a.push(e),r=a.length),n.setInt32(t+4*o,r,!0)}},glGenTextures:function(e,t){let n=new DataView(v.buffer);for(let o=0;o<e;o++){var r=-1;const e=i.createTexture();for(let t=0;t<u.length;t++)if(null==u[t]){u[t]=e,r=t+1;break}-1==r&&(u.push(e),r=u.length),n.setInt32(t+4*o,r,!0)}},glGenVertexArrays:function(e,t){let n=new DataView(v.buffer);for(let o=0;o<e;o++){var r=-1;const e=i.createVertexArray();for(let t=0;t<g.length;t++)if(null==g[t]){g[t]=e,r=t+1;break}-1==r&&(g.push(e),r=g.length),n.setInt32(t+4*o,r,!0)}},glGenVertexArraysOES:function(e,t){let i=new DataView(v.buffer);for(let r=0;r<e;r++){var n=-1;const e=b.createVertexArrayOES();for(let t=0;t<f.length;t++)if(null==f[t]){f[t]=e,n=t+1;break}-1==n&&(f.push(e),n=f.length),i.setInt32(t+4*r,n,!0)}},glGetBufferParameteriv:function(){U("NYI: glGetBufferParameteriv")},glGetError:function(){return i.getError()},glGetFramebufferAttachmentParameteriv:function(){U("NYI: glGetFramebufferAttachmentParameteriv")},glGetProgramInfoLog:function(){U("NYI: glGetProgramInfoLog")},glGetProgramiv:function(){U("NYI: glGetProgramiv")},glGetRenderbufferParameteriv:function(){U("NYI: glGetRenderbufferParameteriv")},glGetShaderInfoLog:function(){U("NYI: glGetShaderInfoLog")},glGetShaderiv:function(){U("NYI: glGetShaderiv")},glGetShaderPrecisionFormat:function(e,t,n,r){const o=i.getShaderPrecisionFormat(e,t);let a=new DataView(v.buffer);a.setInt32(n,o.rangeMin,!0),a.setInt32(n+4,o.rangeMax,!0),a.setInt32(r,o.precision,!0)},glGetUniformLocation:function(e,t){if(name=N(t),e>0&&e<=l.length&&null!=l[e-1]){var n=-1;const t=l[e-1],r=i.getUniformLocation(t,name);if(null!=r){for(let e=0;e<h.length;e++)if(null==h[e]){h[e]=r,n=e+1;break}-1==n&&(h.push(r),n=h.length)}return n}return 0},glInvalidateFramebuffer:function(){U("NYI: glInvalidateFramebuffer")},glInvalidateSubFramebuffer:function(){U("NYI: glInvalidateSubFramebuffer")},glIsTexture:function(){U("NYI: glIsTexture")},glLineWidth:function(e){i.lineWidth(e)},glLinkProgram:function(e){if(e>0&&e<=l.length&&null!=l[e-1]){const t=l[e-1];i.linkProgram(t)}},glPixelStorei:function(e,t){switch(e.toString(16),e){case i.UNPACK_ROW_LENGTH:w=t;break;case i.UNPACK_ALIGNMENT:_=t;break;case i.PACK_ALIGNMENT:m=t}i.pixelStorei(e,t)},glReadBuffer:function(){U("NYI: glReadBuffer")},glReadPixels:function(){U("NYI: glReadPixels")},glRenderbufferStorageMultisample:function(){U("NYI: glRenderbufferStorageMultisample")},glRenderbufferStorage:function(e,t,n,r){i.renderbufferStorage(e,t,n,r)},glSamplerParameteri:function(e,t,n){if(e>0&&e<=a.length&&null!=a[e-1]){const r=a[e-1];i.samplerParameteri(r,t,n)}},glSamplerParameteriv:function(){U("NYI: glSamplerParameteriv")},glScissor:function(e,t,n,r){i.scissor(e,t,n,r)},glShaderSource:function(e,t,n,r){if(e>0&&e<=s.length&&null!=s[e-1]){let a=new DataView(v.buffer);a=new DataView(v.buffer);const l=s[e-1];var o="";if(0!=r)for(let e=0;e<t;e++)o+=C(a.getInt32(n+4*e,!0),a.getInt32(r+4*e,!0));else for(let e=0;e<t;e++)o+=N(a.getInt32(n+4*e));i.shaderSource(l,o)}},glStencilFunc:function(e,t,n){i.stencilFunc(e,t,n)},glStencilFuncSeparate:function(){U("NYI: glStencilFuncSeparate")},glStencilMask:function(e){i.stencilMask(e)},glStencilMaskSeparate:function(){U("NYI: glStencilMaskSeparate")},glStencilOp:function(e,t,n){i.stencilOp(e,t,n)},glStencilOpSeparate:function(){U("NYI: glStencilOpSeparate")},glTexImage2D:function(e,t,n,r,o,a,l,s,h){var c=0;switch(s){case i.BYTE:case i.UNSIGNED_BYTE:c=1;break;case i.SHORT:case i.UNSIGNED_SHORT:case i.HALF_FLOAT:case i.UNSIGNED_SHORT_5_6_5:case i.UNSIGNED_SHORT_4_4_4_4:case i.UNSIGNED_SHORT_5_5_5_1:c=2;break;case i.INT:case i.FLOAT:case i.UNSIGNED_INT:case i.UNSIGNED_INT_24_8:c=4}var d=0;switch(l){case i.RED:case i.ALPHA:case i.LUMINANCE:case i.RED_INTEGER:case i.DEPTH_STENCIL:case i.DEPTH_COMPONENT:d=1;break;case i.RG:case i.RG_INTEGER:case i.LUMINANCE_ALPHA:d=2;break;case i.RGB:case i.RGB_INTEGER:d=3;break;case i.RGBA:case i.RGBA_INTEGER:d=4}var g=(w||r)*(c*=d),f=Math.ceil(g/_)*_*o,u=new Uint8Array(v.buffer,h,f);i.texImage2D(e,t,n,r,o,a,l,s,u)},glTexParameterf:function(e,t,n){i.texParameterf(e,t,n)},glTexParameterfv:function(){U("NYI: glTexParameterfv")},glTexParameteri:function(e,t,n){i.texParameterf(e,t,n)},glTexParameteriv:function(){U("NYI: glTexParameteriv")},glTexStorage2D:function(e,t,n,r,o){i.texStorage2D(e,t,n,r,o)},glTexSubImage2D:function(e,t,n,r,o,a,l,s,h){e.toString(16),l.toString(16),s.toString(16);var c=0;switch(s){case i.BYTE:case i.UNSIGNED_BYTE:c=1;break;case i.SHORT:case i.UNSIGNED_SHORT:case i.HALF_FLOAT:case i.UNSIGNED_SHORT_5_6_5:case i.UNSIGNED_SHORT_4_4_4_4:case i.UNSIGNED_SHORT_5_5_5_1:c=2;break;case i.INT:case i.FLOAT:case i.UNSIGNED_INT:case i.UNSIGNED_INT_24_8:c=4}var d=0;switch(l){case i.RED:case i.ALPHA:case i.LUMINANCE:case i.RED_INTEGER:case i.DEPTH_STENCIL:case i.DEPTH_COMPONENT:d=1;break;case i.RG:case i.RG_INTEGER:case i.LUMINANCE_ALPHA:d=2;break;case i.RGB:case i.RGB_INTEGER:d=3;break;case i.RGBA:case i.RGBA_INTEGER:d=4}var g=(w||o)*(c*=d),f=Math.ceil(g/_)*_*a,u=new Uint8Array(v.buffer,h,f);i.texSubImage2D(e,t,n,r,o,a,l,s,u)},glUniform1f:function(e,t){if(e>0&&e<=h.length&&null!=h[e-1]){const n=h[e-1];i.uniform1f(n,t)}},glUniform1fv:function(){U("NYI: glUniform1fv")},glUniform1i:function(e,t){if(e>0&&e<=h.length&&null!=h[e-1]){const n=h[e-1];i.uniform1i(n,t)}},glUniform1iv:function(){U("NYI: glUniform1iv")},glUniform2f:function(e,t,n){if(e>0&&e<=h.length&&null!=h[e-1]){const r=h[e-1];i.uniform2f(r,t,n)}},glUniform2fv:function(){U("NYI: glUniform2fv")},glUniform2i:function(){if(loc_idx>0&&loc_idx<=h.length&&null!=h[loc_idx-1]){const e=h[loc_idx-1];i.uniform2i(e,v0,v1)}},glUniform2iv:function(){U("NYI: glUniform2iv")},glUniform3f:function(){U("NYI: glUniform3f")},glUniform3fv:function(){U("NYI: glUniform3fv")},glUniform3i:function(){U("NYI: glUniform3i")},glUniform3iv:function(){U("NYI: glUniform3iv")},glUniform4f:function(){U("NYI: glUniform4f")},glUniform4fv:function(e,t,n){if(e>0&&e<=h.length&&null!=h[e-1]){const r=h[e-1],o=new Float32Array(v.buffer,n,4*t);i.uniform4fv(r,o)}else h.length},glUniform4i:function(){U("NYI: glUniform4i")},glUniform4iv:function(){U("NYI: glUniform4iv")},glUniformMatrix2fv:function(e,t,n,r){if(e>0&&e<=h.length&&null!=h[e-1]){const o=h[e-1],a=new Float32Array(v.buffer,r,4*t);i.uniformMatrix2fv(o,n,a)}else h.length},glUniformMatrix3fv:function(e,t,n,r){if(e>0&&e<=h.length&&null!=h[e-1]){const o=h[e-1],a=new Float32Array(v.buffer,r,9*t);i.uniformMatrix3fv(o,n,a)}else h.length},glUniformMatrix4fv:function(e,t,n,r){if(e>0&&e<=h.length&&null!=h[e-1]){const o=h[e-1],a=new Float32Array(v.buffer,r,16*t);i.uniformMatrix4fv(o,n,a)}else h.length},glUseProgram:function(e){if(e>0&&e<=l.length&&null!=l[e-1]){const t=l[e-1];i.useProgram(t)}},glVertexAttrib1f:function(){U("NYI: glVertexAttrib1f")},glVertexAttrib2fv:function(){U("NYI: glVertexAttrib2fv")},glVertexAttrib3fv:function(){U("NYI: glVertexAttrib3fv")},glVertexAttrib4fv:function(){U("NYI: glVertexAttrib4fv")},glVertexAttribPointer:function(e,t,n,r,o,a){i.vertexAttribPointer(e,t,n,r,o,a)},glVertexAttribDivisor:function(e,t){i.vertexAttribDivisor(e,t)},glVertexAttribIPointer:function(e,t,n,r,o,a){i.vertexAttribIPointer(e,t,n,r,o,a)},glViewport:function(e,t,n,r){i.viewport(e,t,n,r)},glFenceSync:function(){U("NYI: glFenceSync")},glIsSync:function(){U("NYI: glIsSync")},glClientWaitSync:function(){U("NYI: glClientWaitSyn")},glWaitSync:function(){U("NYI: glWaitSync")},glDeleteSync:function(){U("NYI: glDeleteSyn")}}},{module:k,instance:G}=await WebAssembly.instantiateStreaming(fetch(t),O);return v=G.exports.memory,D.initialize(G),G.exports.__main_argc_argv(0,0),e.focus(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{G.exports.UXApplication_changed()})),window.PointerEvent?(e.addEventListener("pointerdown",(t=>{const{x:i,y:n}=R(t);G.exports.UXApplication_mouseDown(i,n,t.button,0),e.setPointerCapture(t.pointerId)})),e.addEventListener("pointermove",(e=>{const{x:t,y:i}=R(e);G.exports.UXApplication_mouseMove(t,i,e.buttons,0)})),e.addEventListener("pointerup",(t=>{const{x:i,y:n}=R(t);G.exports.UXApplication_mouseUp(i,n,t.button,0),e.releasePointerCapture(t.pointerId)}))):(e.addEventListener("mousedown",(e=>{const{x:t,y:i}=R(e);G.exports.UXApplication_mouseDown(t,i,e.button,0)})),e.addEventListener("mousemove",(e=>{const{x:t,y:i}=R(e);G.exports.UXApplication_mouseMove(t,i,e.buttons,0)})),e.addEventListener("mouseup",(e=>{const{x:t,y:i}=R(e);G.exports.UXApplication_mouseUp(t,i,e.button,0)})),e.addEventListener("touchstart",(e=>{e.preventDefault();const{x:t,y:i}=R(e);G.exports.UXApplication_mouseDown(t,i,0,1)})),e.addEventListener("touchmove",(e=>{e.preventDefault();const{x:t,y:i}=R(e);G.exports.UXApplication_mouseMove(t,i,1,1)})),e.addEventListener("touchend",(e=>{e.preventDefault();const{x:t,y:i}=R(e);G.exports.UXApplication_mouseUp(t,i,0,1)}))),e.addEventListener("wheel",(e=>{const{x:t,y:i}=R(e),n=e.deltaX<0?-2:2,r=e.deltaY<0?-2:2;G.exports.UXApplication_mouseWheel(t,i,n,r,e.buttons,0)})),document.addEventListener("keydown",(e=>{console.log("keyDown: "+e.keyCode),G.exports.UXApplication_key(!0,e.keyCode)})),document.addEventListener("keyup",(e=>{console.log("keyUp: "+e.keyCode),G.exports.UXApplication_key(!1,e.keyCode)})),screen.orientation&&screen.orientation.addEventListener("change",(()=>{console.log("Screen orientation changed to:",screen.orientation.type),W(!0)})),window.addEventListener("resize",(()=>{W(!0)})),setInterval((()=>{G.exports.UXApplication_eventLoop()}),16),{instance:G,canvas:e,wasmMemory:v,gl:i}}(e,t).then((t=>{console.log("Created instance for canvas:",e)})).catch((t=>{console.error("Error creating instance for canvas:",e,t)}))}))})();